<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, nofollow">
    <title>Ace Driving School - Learning Centre</title>
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            padding: 10px 30px;
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        #attribution {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            padding: 10px;
            font-weight: bold;
            font-size: 0.8em;
        }
        #attribution, #attribution a {
            color: #999;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">Enter PASSWORD provided by instructor</div>
                <div id="passArea">
                    <p id="passwordPrompt">Password</p>
                    <input id="pass" type="password" name="pass">
                    <div>
                        <span id="messageWrapper">
                            <span id="invalidPass" class="notifyText">Sorry, please try again.</span>
                            <span id="success" class="notifyText">Success!</span>
                            &nbsp;
                        </span>
                        <button id="submitPass" type="button">Submit</button>
                        <div style="clear: both;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                }, 1000);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
            }
        }
    })();
    </script>
  </body>
</html>
